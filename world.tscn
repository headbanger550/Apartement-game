[gd_scene load_steps=18 format=3 uid="uid://bhshgml2ku4hn"]

[ext_resource type="PackedScene" uid="uid://e0q2lsh1duir" path="res://Prefabs/Player/Player.tscn" id="1_f3sb7"]
[ext_resource type="PackedScene" uid="uid://cn1nul57gbvy2" path="res://Prefabs/enemy.tscn" id="2_fj7yv"]
[ext_resource type="PackedScene" uid="uid://dmxbnuwsy0oce" path="res://Prefabs/Items/Key.tscn" id="3_tlwt5"]
[ext_resource type="PackedScene" uid="uid://vrcg2dc3slma" path="res://Prefabs/World/Interactables/door.tscn" id="4_aqk2v"]
[ext_resource type="PackedScene" uid="uid://cqjugau4swcjy" path="res://Prefabs/World/Interactables/light_switch.tscn" id="5_036b0"]
[ext_resource type="Script" uid="uid://b11jr8h701gws" path="res://Scripts/World/Interactables/interactable.gd" id="6_pkg7o"]
[ext_resource type="Resource" uid="uid://dlwt2kenmj41r" path="res://Scripts/World/Interactables/Interactable resource/light.tres" id="7_gbfbk"]
[ext_resource type="PackedScene" uid="uid://vk56ihci0tb" path="res://Prefabs/Player/computer.tscn" id="8_gbfbk"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_gv5m4"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_f3sb7"]
sky_material = SubResource("ProceduralSkyMaterial_gv5m4")

[sub_resource type="Environment" id="Environment_fj7yv"]
background_mode = 2
sky = SubResource("Sky_f3sb7")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_tlwt5"]
vertices = PackedVector3Array(-3.79001, 0.454453, -22.79, -1.79001, 0.454453, -22.79, -1.79001, 0.454453, -326.29, -4.04001, 0.454453, -21.04, -326.29, 0.454453, -326.29, -326.29, 0.454453, -21.29, 1.70999, 0.454453, -22.79, 1.70999, 0.454453, -326.29, 3.95999, 0.454453, -22.54, 3.95999, 0.454453, -15.29, 22.21, 0.454453, 15.21, 40.71, 0.454453, 15.21, 326.21, 0.454453, 16.71, 326.21, 0.454453, -326.29, 40.96, 0.454453, 16.96, -3.04001, 7.70445, -21.79, -3.04001, 7.70445, -15.79, 2.95999, 7.70445, -15.79, 2.95999, 7.70445, -21.79, -326.29, 0.454453, -16.29, -4.04001, 0.454453, -16.54, 21.71, 0.454453, 15.71, 3.45999, 0.454453, -14.79, -3.79001, 0.454453, -14.79, 21.71, 0.454453, 36.46, 23.96, 0.454453, 326.21, -326.29, 0.454453, 326.21, 23.96, 0.454453, 36.71, 22.71, 84.9545, 16.21, 22.71, 84.9545, 35.71, 39.96, 84.9545, 35.71, 39.96, 84.9545, 16.21, 22.96, 0.454453, 16.46, 22.96, 0.454453, 35.46, 39.71, 0.454453, 35.46, 39.71, 0.454453, 16.46, 40.96, 0.454453, 34.96, 326.21, 0.454453, 35.21, 40.71, 0.454453, 36.71, 38.71, 0.454453, 326.21, 326.21, 0.454453, 326.21, 38.71, 0.454453, 36.71)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(0, 3, 2), PackedInt32Array(2, 3, 5), PackedInt32Array(2, 5, 4), PackedInt32Array(2, 7, 1), PackedInt32Array(1, 7, 6), PackedInt32Array(9, 8, 10), PackedInt32Array(10, 8, 11), PackedInt32Array(11, 8, 12), PackedInt32Array(12, 8, 7), PackedInt32Array(12, 7, 13), PackedInt32Array(12, 14, 11), PackedInt32Array(7, 8, 6), PackedInt32Array(18, 17, 15), PackedInt32Array(15, 17, 16), PackedInt32Array(20, 19, 3), PackedInt32Array(3, 19, 5), PackedInt32Array(22, 21, 23), PackedInt32Array(23, 21, 24), PackedInt32Array(24, 25, 23), PackedInt32Array(23, 25, 19), PackedInt32Array(19, 25, 26), PackedInt32Array(24, 27, 25), PackedInt32Array(19, 20, 23), PackedInt32Array(9, 10, 22), PackedInt32Array(22, 10, 21), PackedInt32Array(31, 30, 28), PackedInt32Array(28, 30, 29), PackedInt32Array(35, 34, 32), PackedInt32Array(32, 34, 33), PackedInt32Array(14, 12, 36), PackedInt32Array(36, 12, 37), PackedInt32Array(36, 37, 38), PackedInt32Array(38, 37, 40), PackedInt32Array(38, 40, 39), PackedInt32Array(39, 41, 38), PackedInt32Array(27, 41, 25), PackedInt32Array(25, 41, 39)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tlwt5"]
albedo_color = Color(0.358124, 0.35264, 0.466962, 1)

[sub_resource type="BoxMesh" id="BoxMesh_f3sb7"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fj7yv"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_fj7yv"]

[sub_resource type="BoxMesh" id="BoxMesh_tlwt5"]

[node name="World" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_fj7yv")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_tlwt5")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(653.58, 0, 0, 0, 1, 0, 0, 0, 653.58, 0, -0.119528, 0)
material_override = SubResource("StandardMaterial3D_tlwt5")
use_collision = true
size = Vector3(1, 0.150513, 1)

[node name="CSGMesh3D" type="CSGMesh3D" parent="NavigationRegion3D"]
transform = Transform3D(6.66909, 0, 0, 0, 6.66909, 0, 0, 0, 6.66909, 0, 3.91645, -18.8311)
use_collision = true
mesh = SubResource("BoxMesh_f3sb7")
material = SubResource("StandardMaterial3D_fj7yv")

[node name="CSGMesh3D2" type="CSGMesh3D" parent="NavigationRegion3D"]
transform = Transform3D(18.0841, 0, 0, 0, 87.7727, 0, 0, 0, 20.1188, 31.3571, 40.5908, 25.9285)
use_collision = true
mesh = SubResource("BoxMesh_f3sb7")
material = SubResource("StandardMaterial3D_fj7yv")

[node name="Player" parent="." instance=ExtResource("1_f3sb7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.511, 1.16826, -22.0409)

[node name="BFR" parent="Player/Head/Camera3D/Weapon_holder" index="0"]
bullets = [Object(Area3D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":0,"auto_translate_mode":0,"editor_description":"","transform":Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00355583, 0.658754, 1.57551),"rotation_edit_mode":0,"rotation_order":2,"top_level":false,"visible":true,"visibility_parent":NodePath(""),"disable_mode":0,"collision_layer":1,"collision_mask":1,"collision_priority":1.0,"input_ray_pickable":true,"input_capture_on_drag":false,"monitoring":true,"monitorable":true,"priority":0,"gravity_space_override":0,"gravity_point":false,"gravity_point_unit_distance":0.0,"gravity_point_center":Vector3(0, -1, 0),"gravity_direction":Vector3(0, -1, 0),"gravity":9.8,"linear_damp_space_override":0,"linear_damp":0.1,"angular_damp_space_override":0,"angular_damp":0.1,"wind_force_magnitude":0.0,"wind_attenuation_factor":0.0,"wind_source_path":NodePath(""),"audio_bus_override":false,"audio_bus_name":&"Master","reverb_bus_enabled":false,"reverb_bus_name":&"Master","reverb_bus_amount":0.0,"reverb_bus_uniformity":0.0,"script":null)
, Object(Area3D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":0,"auto_translate_mode":0,"editor_description":"","transform":Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.578021, 0.334057, 1.57551),"rotation_edit_mode":0,"rotation_order":2,"top_level":false,"visible":true,"visibility_parent":NodePath(""),"disable_mode":0,"collision_layer":1,"collision_mask":1,"collision_priority":1.0,"input_ray_pickable":true,"input_capture_on_drag":false,"monitoring":true,"monitorable":true,"priority":0,"gravity_space_override":0,"gravity_point":false,"gravity_point_unit_distance":0.0,"gravity_point_center":Vector3(0, -1, 0),"gravity_direction":Vector3(0, -1, 0),"gravity":9.8,"linear_damp_space_override":0,"linear_damp":0.1,"angular_damp_space_override":0,"angular_damp":0.1,"wind_force_magnitude":0.0,"wind_attenuation_factor":0.0,"wind_source_path":NodePath(""),"audio_bus_override":false,"audio_bus_name":&"Master","reverb_bus_enabled":false,"reverb_bus_name":&"Master","reverb_bus_amount":0.0,"reverb_bus_uniformity":0.0,"script":null)
, Object(Area3D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":0,"auto_translate_mode":0,"editor_description":"","transform":Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.56018, -0.34745, 1.57551),"rotation_edit_mode":0,"rotation_order":2,"top_level":false,"visible":true,"visibility_parent":NodePath(""),"disable_mode":0,"collision_layer":1,"collision_mask":1,"collision_priority":1.0,"input_ray_pickable":true,"input_capture_on_drag":false,"monitoring":true,"monitorable":true,"priority":0,"gravity_space_override":0,"gravity_point":false,"gravity_point_unit_distance":0.0,"gravity_point_center":Vector3(0, -1, 0),"gravity_direction":Vector3(0, -1, 0),"gravity":9.8,"linear_damp_space_override":0,"linear_damp":0.1,"angular_damp_space_override":0,"angular_damp":0.1,"wind_force_magnitude":0.0,"wind_attenuation_factor":0.0,"wind_source_path":NodePath(""),"audio_bus_override":false,"audio_bus_name":&"Master","reverb_bus_enabled":false,"reverb_bus_name":&"Master","reverb_bus_amount":0.0,"reverb_bus_uniformity":0.0,"script":null)
, Object(Area3D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":0,"auto_translate_mode":0,"editor_description":"","transform":Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.14336e-05, -0.672148, 1.57551),"rotation_edit_mode":0,"rotation_order":2,"top_level":false,"visible":true,"visibility_parent":NodePath(""),"disable_mode":0,"collision_layer":1,"collision_mask":1,"collision_priority":1.0,"input_ray_pickable":true,"input_capture_on_drag":false,"monitoring":true,"monitorable":true,"priority":0,"gravity_space_override":0,"gravity_point":false,"gravity_point_unit_distance":0.0,"gravity_point_center":Vector3(0, -1, 0),"gravity_direction":Vector3(0, -1, 0),"gravity":9.8,"linear_damp_space_override":0,"linear_damp":0.1,"angular_damp_space_override":0,"angular_damp":0.1,"wind_force_magnitude":0.0,"wind_attenuation_factor":0.0,"wind_source_path":NodePath(""),"audio_bus_override":false,"audio_bus_name":&"Master","reverb_bus_enabled":false,"reverb_bus_name":&"Master","reverb_bus_amount":0.0,"reverb_bus_uniformity":0.0,"script":null)
, Object(Area3D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":0,"auto_translate_mode":0,"editor_description":"","transform":Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.581612, -0.340314, 1.57551),"rotation_edit_mode":0,"rotation_order":2,"top_level":false,"visible":true,"visibility_parent":NodePath(""),"disable_mode":0,"collision_layer":1,"collision_mask":1,"collision_priority":1.0,"input_ray_pickable":true,"input_capture_on_drag":false,"monitoring":true,"monitorable":true,"priority":0,"gravity_space_override":0,"gravity_point":false,"gravity_point_unit_distance":0.0,"gravity_point_center":Vector3(0, -1, 0),"gravity_direction":Vector3(0, -1, 0),"gravity":9.8,"linear_damp_space_override":0,"linear_damp":0.1,"angular_damp_space_override":0,"angular_damp":0.1,"wind_force_magnitude":0.0,"wind_attenuation_factor":0.0,"wind_source_path":NodePath(""),"audio_bus_override":false,"audio_bus_name":&"Master","reverb_bus_enabled":false,"reverb_bus_name":&"Master","reverb_bus_amount":0.0,"reverb_bus_uniformity":0.0,"script":null)
, Object(Area3D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":0,"auto_translate_mode":0,"editor_description":"","transform":Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.570908, 0.337625, 1.57551),"rotation_edit_mode":0,"rotation_order":2,"top_level":false,"visible":true,"visibility_parent":NodePath(""),"disable_mode":0,"collision_layer":1,"collision_mask":1,"collision_priority":1.0,"input_ray_pickable":true,"input_capture_on_drag":false,"monitoring":true,"monitorable":true,"priority":0,"gravity_space_override":0,"gravity_point":false,"gravity_point_unit_distance":0.0,"gravity_point_center":Vector3(0, -1, 0),"gravity_direction":Vector3(0, -1, 0),"gravity":9.8,"linear_damp_space_override":0,"linear_damp":0.1,"angular_damp_space_override":0,"angular_damp":0.1,"wind_force_magnitude":0.0,"wind_attenuation_factor":0.0,"wind_source_path":NodePath(""),"audio_bus_override":false,"audio_bus_name":&"Master","reverb_bus_enabled":false,"reverb_bus_name":&"Master","reverb_bus_amount":0.0,"reverb_bus_uniformity":0.0,"script":null)
]

[node name="Cylinder latch" parent="Player/Head/Camera3D/Weapon_holder/BFR/Model/bfr revolver" index="3"]
transform = Transform3D(91.9905, 0, 0, 0, 91.9905, -4.26694e-06, 0, 4.02103e-06, 97.6162, -1.57386e-17, 1.35001, 5.28161)

[node name="Enemy" parent="." node_paths=PackedStringArray("patrol_points") instance=ExtResource("2_fj7yv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.3138, 0.972282, -4.12501)
patrol_points = [NodePath("../Patrol point 1"), NodePath("../Patrol point 2"), NodePath("../Patrol point 3")]

[node name="Patrol point 1" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.7827, 0, -14.0487)

[node name="Patrol point 2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.2462, 9.53674e-07, 10.9006)

[node name="Patrol point 3" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4649, 1.90735e-06, -14.3189)

[node name="Box" type="RigidBody3D" parent="." groups=["movable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.43905, 2.27168)
freeze_mode = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="Box"]
shape = SubResource("BoxShape3D_fj7yv")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Box"]
mesh = SubResource("BoxMesh_tlwt5")

[node name="Box2" type="RigidBody3D" parent="." groups=["draggable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.28854, 1.43905, 2.27168)
mass = 1.5
freeze_mode = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="Box2"]
shape = SubResource("BoxShape3D_fj7yv")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Box2" groups=["draggable"]]
mesh = SubResource("BoxMesh_tlwt5")

[node name="Key" parent="." instance=ExtResource("3_tlwt5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.5397, 0.987593, -0.820931)

[node name="Key2" parent="." instance=ExtResource("3_tlwt5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.85048, 1.1017, -3.83101)

[node name="Key3" parent="." instance=ExtResource("3_tlwt5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.85048, 1.1017, -6.15216)

[node name="Door" parent="." instance=ExtResource("4_aqk2v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.3238, 1.80971, -3.52252)

[node name="Computer" parent="." instance=ExtResource("8_gbfbk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.823, 0.474071, -10.6889)

[node name="Light switch" parent="." instance=ExtResource("5_036b0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.73664, 5.36773, -14.3125)

[node name="OmniLight3D2" type="OmniLight3D" parent="Light switch/Lights" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.149, -2.33007, 0)
light_color = Color(0.873484, 0.705177, 3.85046e-07, 1)
light_energy = 6.172
light_size = 0.413
omni_range = 5.412
script = ExtResource("6_pkg7o")
resource = ExtResource("7_gbfbk")

[node name="OmniLight3D3" type="OmniLight3D" parent="Light switch/Lights" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.149, 0.806086, 0)
light_color = Color(0.873484, 0.705177, 3.85046e-07, 1)
light_energy = 6.172
light_size = 0.413
omni_range = 5.412
script = ExtResource("6_pkg7o")
resource = ExtResource("7_gbfbk")

[node name="StaticBody3D" parent="Light switch" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.40971, -3.03794, -1.0942)

[editable path="Player"]
[editable path="Player/Head/Camera3D/Weapon_holder/BFR"]
[editable path="Player/Inventory manager/Inventory"]
[editable path="Light switch"]
